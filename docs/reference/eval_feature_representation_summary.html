<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Evaluate feature representation — eval_feature_representation_summary • prioritizr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Evaluate feature representation — eval_feature_representation_summary" />
<meta property="og:description" content="Calculate how well features are represented by a solution
to a conservation planning problem().
These summary statistics are reported for each and every feature,
and each and every zone, within a conservation planning problem." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70466840-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70466840-4');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prioritizr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">6.0.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/prioritizr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/gurobi_installation.html">Gurobi Installation Guide</a>
    </li>
    <li>
      <a href="../articles/publication_record.html">Publication Record</a>
    </li>
    <li>
      <a href="../articles/saltspring.html">Salt Spring Island Tutorial</a>
    </li>
    <li>
      <a href="../articles/tasmania.html">Tasmania Tutorial</a>
    </li>
    <li>
      <a href="../articles/zones.html">Management Zones</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/prioritizr/prioritizr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Evaluate feature representation</h1>
    <small class="dont-index">Source: <a href='https://github.com/prioritizr/prioritizr/blob/master/R/eval_feature_representation_summary.R'><code>R/eval_feature_representation_summary.R</code></a></small>
    <div class="hidden name"><code>eval_feature_representation_summary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate how well features are represented by a solution
to a conservation planning <code><a href='problem.html'>problem()</a></code>.
These summary statistics are reported for each and every feature,
and each and every zone, within a conservation planning problem.</p>
    </div>

    <pre class="usage"><span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>solution</span><span class='op'>)</span>

<span class='co'># S4 method for ConservationProblem,numeric</span>
<span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>solution</span><span class='op'>)</span>

<span class='co'># S4 method for ConservationProblem,matrix</span>
<span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>solution</span><span class='op'>)</span>

<span class='co'># S4 method for ConservationProblem,data.frame</span>
<span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>solution</span><span class='op'>)</span>

<span class='co'># S4 method for ConservationProblem,Spatial</span>
<span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>solution</span><span class='op'>)</span>

<span class='co'># S4 method for ConservationProblem,sf</span>
<span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>solution</span><span class='op'>)</span>

<span class='co'># S4 method for ConservationProblem,Raster</span>
<span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>solution</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code><a href='problem.html'>problem()</a></code> (i.e. <code><a href='ConservationProblem-class.html'>ConservationProblem</a></code>) object.</p></td>
    </tr>
    <tr>
      <th>solution</th>
      <td><p><code>numeric</code>, <code>matrix</code>, <code>data.frame</code>,
<code>Raster</code>, <code>Spatial</code>,
or <code><a href='https://r-spatial.github.io/sf/reference/sf.html'>sf::sf()</a></code> object.
The argument should be in the same format as the planning unit cost
data in the argument to <code>x</code>.
See the Solution format section for more information.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble::tibble()</a></code> object describing feature representation.
Here, each row describes a specific summary statistic
(e.g. different management zone) for a specific feature.
It contains the following columns:</p>
<dl>

<dt>summary</dt><dd><p><code>character</code> description of the summary statistic.
The statistic associated with the <code>"overall"</code> value
in this column is calculated using the entire solution
(including all management zones if there are multiple zones).
If multiple management zones are present, then summary statistics
are also provided for each zone separately
(indicated using zone names).</p></dd>

<dt>feature</dt><dd><p><code>character</code> name of the feature.</p></dd>

<dt>total_amount</dt><dd><p><code>numeric</code> total amount of each feature available
in the entire conservation planning problem
(not just planning units selected within the solution).
It is calculated as the sum of the feature data,
supplied when creating a <code><a href='problem.html'>problem()</a></code> object
(e.g. presence/absence values).</p></dd>

<dt>absolute_held</dt><dd><p><code>numeric</code> total amount of each feature secured within
the solution. It is calculated as the sum of the feature data,
supplied when creating a <code><a href='problem.html'>problem()</a></code> object
(e.g. presence/absence values), weighted by the status of each
planning unit in the solution (e.g. selected or not for prioritization).</p></dd>

<dt>relative_held</dt><dd><p><code>numeric</code> proportion of
each feature secured within the solution. It is calculated
by dividing values in the <code>"absolute_held"</code> column by those in the
<code>"total_amount"</code> column.</p></dd>


</dl>

    <h2 class="hasAnchor" id="solution-format"><a class="anchor" href="#solution-format"></a>Solution format</h2>

    

<p>The argument to <code>solution</code> must be in the same format as
the planning unit data in the argument to <code>x</code>
(e.g. in terms of data representation, dimensionality, and spatial
attributes).
For example, if the planning unit data in <code>x</code> is a <code>numeric</code>
vector, then the argument to <code>solution</code> must be a <code>numeric</code> vector
with the same number of elements.
Similarly, if the planning units in <code>x</code> are a <code>data.frame</code>, then the
argument to <code>solution</code> must also be a <code>data.frame</code> with each
column corresponding to a different zone, each row corresponding to a
different planning unit, and cell values corresponding to the solution value.
Additionally, if the planning unit data in <code>x</code> is
a <code>Raster</code> object, then the argument to
<code>solution</code> must also be a <code>Raster</code> object with
the same dimensionality (rows and columns), resolution, extent, and
coordinate reference system.
Furthermore, if the planning unit data in <code>x</code> is a
<code>Spatial</code> or <code><a href='https://r-spatial.github.io/sf/reference/sf.html'>sf::sf()</a></code> object then the
argument to <code>solution</code> must also be a <code>Spatial</code>
or <code><a href='https://r-spatial.github.io/sf/reference/sf.html'>sf::sf()</a></code> object (respectively) with the same spatial information
(e.g. polygons and coordinate reference system), and contain columns
corresponding to different zones, and cell values corresponding to the
solution values.</p>
<p>The argument to <code>solution</code> must also have missing (<code>NA</code>) values for planning
units that have missing (<code>NA</code>) cost values.
In other words, the solution must have missing (<code>NA</code>) values in the
same elements, cells, or pixels (depending on the cost data format) as the
planning unit cost data.
For example, if the planning unit data are a <code>Raster</code> object,
then the argument to <code>solution</code> must have missing (<code>NA</code>) values in
the same pixels as the planning unit cost data.
Similarly, if the planning unit data are a
<code>Spatial</code>, <code><a href='https://r-spatial.github.io/sf/reference/sf.html'>sf::sf()</a></code>, or <code>data.frame</code> object, then
the solution must have missing (<code>NA</code>) values in the same cells
as the planning unit cost data columns.
If an argument is supplied to <code>solution</code> where
the missing (<code>NA</code>) values in the argument to solution do not match
those in the planning unit cost data, then an error will be thrown.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='problem.html'>problem()</a></code>, <a href='summaries.html'>summaries</a>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># set seed for reproducibility</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>500</span><span class='op'>)</span>

<span class='co'># load data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>sim_pu_raster</span>, <span class='va'>sim_pu_polygons</span>, <span class='va'>sim_pu_zones_sf</span>, <span class='va'>sim_features</span>,
     <span class='va'>sim_pu_zones_stack</span>, <span class='va'>sim_features_zones</span><span class='op'>)</span>

<span class='co'># create a simple conservation planning dataset so we can see exactly</span>
<span class='co'># how feature representation is calculated</span>
<span class='va'>pu</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq_len</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>, cost <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='cn'>NA</span>, <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>8</span><span class='op'>)</span><span class='op'>)</span>,
                 spp1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>, spp2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='fl'>9</span>, <span class='fl'>4</span><span class='op'>)</span>, <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># create problem</span>
<span class='va'>p1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span><span class='op'>(</span><span class='va'>pu</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"spp1"</span>, <span class='st'>"spp2"</span><span class='op'>)</span>, cost_column <span class='op'>=</span> <span class='st'>"cost"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_min_set_objective.html'>add_min_set_objective</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_relative_targets.html'>add_relative_targets</a></span><span class='op'>(</span><span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_default_solver.html'>add_default_solver</a></span><span class='op'>(</span>verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='co'># create a solution</span>
<span class='co'># specifically, a data.frame with a single column that contains</span>
<span class='co'># binary values indicating if each planning units was selected or not</span>
<span class='va'>s1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>s <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='cn'>NA</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>0</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>s1</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     s
#&gt; 1   1
#&gt; 2  NA
#&gt; 3   1
#&gt; 4   0
#&gt; 5   1
#&gt; 6   0
#&gt; 7   1
#&gt; 8   0
#&gt; 9   1
#&gt; 10  0</div><div class='input'>
<span class='co'># calculate feature representation</span>
<span class='va'>r1</span> <span class='op'>&lt;-</span> <span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>p1</span>, <span class='va'>s1</span><span class='op'>)</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>r1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 2 x 5</span><span>
#&gt;   summary feature total_amount absolute_held relative_held
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> overall spp1            5.76          3.12         0.541
#&gt; </span><span style='color: #555555;'>2</span><span> overall spp2           33            14            0.424</div><div class='input'>
<span class='co'># let's verify that feature representation calculations are correct</span>
<span class='co'># by manually performing the calculations and compare the results with r1</span>
<span class='co'>## calculate total amount for each feature</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/setNames.html'>setNames</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>pu</span><span class='op'>$</span><span class='va'>spp1</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>pu</span><span class='op'>$</span><span class='va'>spp2</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"spp1"</span>, <span class='st'>"spp2"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      spp1      spp2 
#&gt;  5.755739 33.000000 </div><div class='input'>
<span class='co'>## calculate absolute amount held for each feature</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/setNames.html'>setNames</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>pu</span><span class='op'>$</span><span class='va'>spp1</span> <span class='op'>*</span> <span class='va'>s1</span><span class='op'>$</span><span class='va'>s</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>pu</span><span class='op'>$</span><span class='va'>spp2</span> <span class='op'>*</span> <span class='va'>s1</span><span class='op'>$</span><span class='va'>s</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"spp1"</span>, <span class='st'>"spp2"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      spp1      spp2 
#&gt;  3.116052 14.000000 </div><div class='input'>
<span class='co'>## calculate relative amount held for each feature</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/setNames.html'>setNames</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>pu</span><span class='op'>$</span><span class='va'>spp1</span> <span class='op'>*</span> <span class='va'>s1</span><span class='op'>$</span><span class='va'>s</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>/</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>pu</span><span class='op'>$</span><span class='va'>spp1</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>pu</span><span class='op'>$</span><span class='va'>spp2</span> <span class='op'>*</span> <span class='va'>s1</span><span class='op'>$</span><span class='va'>s</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>/</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>pu</span><span class='op'>$</span><span class='va'>spp2</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"spp1"</span>, <span class='st'>"spp2"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      spp1      spp2 
#&gt; 0.5413818 0.4242424 </div><div class='input'>
<span class='co'># \dontrun{</span>
<span class='co'># solve the problem using an exact algorithm solver</span>
<span class='va'>s1_2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='solve.html'>solve</a></span><span class='op'>(</span><span class='va'>p1</span><span class='op'>)</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>s1_2</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    id      cost      spp1 spp2 solution_1
#&gt; 1   1 0.2000000 0.8288314    4          1
#&gt; 2   2        NA 0.7115770    3         NA
#&gt; 3   3 0.8336000 0.2820609    1          0
#&gt; 4   4 0.7250118 0.8928427    6          0
#&gt; 5   5 0.9753142 0.7647062    1          0
#&gt; 6   6 0.4676038 0.1643470    4          0
#&gt; 7   7 0.8122781 0.7320744    3          0
#&gt; 8   8 0.2056958 0.2531062    6          0
#&gt; 9   9 0.5121819 0.5083795    5          0
#&gt; 10 10 0.9254660 0.6178138   NA          0</div><div class='input'>
<span class='co'># calculate feature representation in this solution</span>
<span class='va'>r1_2</span> <span class='op'>&lt;-</span> <span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span>
  <span class='va'>p1</span>, <span class='va'>s1_2</span><span class='op'>[</span>, <span class='st'>"solution_1"</span>, drop <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>]</span><span class='op'>)</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>r1_2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 2 x 5</span><span>
#&gt;   summary feature total_amount absolute_held relative_held
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> overall spp1            5.76         0.829         0.144
#&gt; </span><span style='color: #555555;'>2</span><span> overall spp2           33            4             0.121</div><div class='input'>
<span class='co'># build minimal conservation problem with raster data</span>
<span class='va'>p2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span><span class='op'>(</span><span class='va'>sim_pu_raster</span>, <span class='va'>sim_features</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_min_set_objective.html'>add_min_set_objective</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_relative_targets.html'>add_relative_targets</a></span><span class='op'>(</span><span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_default_solver.html'>add_default_solver</a></span><span class='op'>(</span>verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='co'># solve the problem</span>
<span class='va'>s2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='solve.html'>solve</a></span><span class='op'>(</span><span class='va'>p2</span><span class='op'>)</span>

<span class='co'># print solution</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>s2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; class      : RasterLayer 
#&gt; dimensions : 10, 10, 100  (nrow, ncol, ncell)
#&gt; resolution : 0.1, 0.1  (x, y)
#&gt; extent     : 0, 1, 0, 1  (xmin, xmax, ymin, ymax)
#&gt; crs        : NA 
#&gt; source     : memory
#&gt; names      : layer 
#&gt; values     : 0, 1  (min, max)
#&gt; </div><div class='input'>
<span class='co'># calculate feature representation in the solution</span>
<span class='va'>r2</span> <span class='op'>&lt;-</span> <span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>p2</span>, <span class='va'>s2</span><span class='op'>)</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>r2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 5 x 5</span><span>
#&gt;   summary feature total_amount absolute_held relative_held
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> overall layer.1         83.3          8.91         0.107
#&gt; </span><span style='color: #555555;'>2</span><span> overall layer.2         31.2          3.13         0.100
#&gt; </span><span style='color: #555555;'>3</span><span> overall layer.3         72.0          7.34         0.102
#&gt; </span><span style='color: #555555;'>4</span><span> overall layer.4         42.7          4.35         0.102
#&gt; </span><span style='color: #555555;'>5</span><span> overall layer.5         56.7          6.01         0.106</div><div class='input'>
<span class='co'># plot solution</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>s2</span>, main <span class='op'>=</span> <span class='st'>"solution"</span>, axes <span class='op'>=</span> <span class='cn'>FALSE</span>, box <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='img'><img src='eval_feature_representation_summary-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>
<span class='co'># build minimal conservation problem with polygon (Spatial) data</span>
<span class='va'>p3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span><span class='op'>(</span><span class='va'>sim_pu_polygons</span>, <span class='va'>sim_features</span>, cost_column <span class='op'>=</span> <span class='st'>"cost"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_min_set_objective.html'>add_min_set_objective</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_relative_targets.html'>add_relative_targets</a></span><span class='op'>(</span><span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_default_solver.html'>add_default_solver</a></span><span class='op'>(</span>verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='co'># \dontrun{</span>
<span class='co'># solve the problem</span>
<span class='va'>s3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='solve.html'>solve</a></span><span class='op'>(</span><span class='va'>p3</span><span class='op'>)</span>

<span class='co'># print first six rows of the attribute table</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>s3</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;       cost locked_in locked_out solution_1
#&gt; 1 215.8638     FALSE      FALSE          0
#&gt; 2 212.7823     FALSE      FALSE          0
#&gt; 3 207.4962     FALSE      FALSE          0
#&gt; 4 208.9322     FALSE       TRUE          0
#&gt; 5 214.0419     FALSE      FALSE          0
#&gt; 6 213.7636     FALSE      FALSE          0</div><div class='input'>
<span class='co'># calculate feature representation in the solution</span>
<span class='va'>r3</span> <span class='op'>&lt;-</span> <span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>p3</span>, <span class='va'>s3</span><span class='op'>[</span>, <span class='st'>"solution_1"</span><span class='op'>]</span><span class='op'>)</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>r3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 5 x 5</span><span>
#&gt;   summary feature total_amount absolute_held relative_held
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> overall layer.1         74.5          8.05         0.108
#&gt; </span><span style='color: #555555;'>2</span><span> overall layer.2         28.1          2.83         0.101
#&gt; </span><span style='color: #555555;'>3</span><span> overall layer.3         64.9          6.65         0.103
#&gt; </span><span style='color: #555555;'>4</span><span> overall layer.4         38.2          3.87         0.101
#&gt; </span><span style='color: #555555;'>5</span><span> overall layer.5         50.7          5.41         0.107</div><div class='input'>
<span class='co'># plot solution</span>
<span class='fu'>spplot</span><span class='op'>(</span><span class='va'>s3</span>, zcol <span class='op'>=</span> <span class='st'>"solution_1"</span>, main <span class='op'>=</span> <span class='st'>"solution"</span>, axes <span class='op'>=</span> <span class='cn'>FALSE</span>, box <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='img'><img src='eval_feature_representation_summary-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>
<span class='co'># build multi-zone conservation problem with raster data</span>
<span class='va'>p4</span> <span class='op'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span><span class='op'>(</span><span class='va'>sim_pu_zones_stack</span>, <span class='va'>sim_features_zones</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_min_set_objective.html'>add_min_set_objective</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_relative_targets.html'>add_relative_targets</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>15</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span><span class='op'>)</span>, nrow <span class='op'>=</span> <span class='fl'>5</span>,
                                  ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_default_solver.html'>add_default_solver</a></span><span class='op'>(</span>verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='co'># \dontrun{</span>
<span class='co'># solve the problem</span>
<span class='va'>s4</span> <span class='op'>&lt;-</span> <span class='fu'><a href='solve.html'>solve</a></span><span class='op'>(</span><span class='va'>p4</span><span class='op'>)</span>

<span class='co'># print solution</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>s4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; class      : RasterStack 
#&gt; dimensions : 10, 10, 100, 3  (nrow, ncol, ncell, nlayers)
#&gt; resolution : 0.1, 0.1  (x, y)
#&gt; extent     : 0, 1, 0, 1  (xmin, xmax, ymin, ymax)
#&gt; crs        : NA 
#&gt; names      : layer.1.1, layer.1.2, layer.1.3 
#&gt; min values :         0,         0,         0 
#&gt; max values :         1,         1,         1 
#&gt; </div><div class='input'>
<span class='co'># calculate feature representation in the solution</span>
<span class='va'>r4</span> <span class='op'>&lt;-</span> <span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span><span class='va'>p4</span>, <span class='va'>s4</span><span class='op'>)</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>r4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 20 x 5</span><span>
#&gt;    summary feature   total_amount absolute_held relative_held
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> overall feature_1        250.          43.7          0.175
#&gt; </span><span style='color: #555555;'> 2</span><span> overall feature_2         93.6         16.2          0.173
#&gt; </span><span style='color: #555555;'> 3</span><span> overall feature_3        216.          36.1          0.167
#&gt; </span><span style='color: #555555;'> 4</span><span> overall feature_4        128.          23.4          0.183
#&gt; </span><span style='color: #555555;'> 5</span><span> overall feature_5        170.          30.4          0.179
#&gt; </span><span style='color: #555555;'> 6</span><span> zone_1  feature_1         83.3         16.0          0.192
#&gt; </span><span style='color: #555555;'> 7</span><span> zone_1  feature_2         31.2          5.13         0.164
#&gt; </span><span style='color: #555555;'> 8</span><span> zone_1  feature_3         72.0         13.0          0.181
#&gt; </span><span style='color: #555555;'> 9</span><span> zone_1  feature_4         42.7          7.06         0.166
#&gt; </span><span style='color: #555555;'>10</span><span> zone_1  feature_5         56.7         11.2          0.197
#&gt; </span><span style='color: #555555;'>11</span><span> zone_2  feature_1         83.3         14.7          0.177
#&gt; </span><span style='color: #555555;'>12</span><span> zone_2  feature_2         31.2          5.03         0.161
#&gt; </span><span style='color: #555555;'>13</span><span> zone_2  feature_3         72.0         11.7          0.163
#&gt; </span><span style='color: #555555;'>14</span><span> zone_2  feature_4         42.7          8.02         0.188
#&gt; </span><span style='color: #555555;'>15</span><span> zone_2  feature_5         56.7         10.4          0.183
#&gt; </span><span style='color: #555555;'>16</span><span> zone_3  feature_1         83.3         13.0          0.156
#&gt; </span><span style='color: #555555;'>17</span><span> zone_3  feature_2         31.2          6.08         0.195
#&gt; </span><span style='color: #555555;'>18</span><span> zone_3  feature_3         72.0         11.4          0.158
#&gt; </span><span style='color: #555555;'>19</span><span> zone_3  feature_4         42.7          8.33         0.195
#&gt; </span><span style='color: #555555;'>20</span><span> zone_3  feature_5         56.7          8.87         0.156</div><div class='input'>
<span class='co'># plot solution</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'><a href='category_layer.html'>category_layer</a></span><span class='op'>(</span><span class='va'>s4</span><span class='op'>)</span>, main <span class='op'>=</span> <span class='st'>"solution"</span>, axes <span class='op'>=</span> <span class='cn'>FALSE</span>, box <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='img'><img src='eval_feature_representation_summary-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'># build multi-zone conservation problem with polygon (sf) data</span>
<span class='va'>p5</span> <span class='op'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span><span class='op'>(</span><span class='va'>sim_pu_zones_sf</span>, <span class='va'>sim_features_zones</span>,
              cost_column <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"cost_1"</span>, <span class='st'>"cost_2"</span>, <span class='st'>"cost_3"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_min_set_objective.html'>add_min_set_objective</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_relative_targets.html'>add_relative_targets</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>15</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span><span class='op'>)</span>, nrow <span class='op'>=</span> <span class='fl'>5</span>,
                                  ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
      <span class='fu'><a href='add_default_solver.html'>add_default_solver</a></span><span class='op'>(</span>verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='co'># \dontrun{</span>
<span class='co'># solve the problem</span>
<span class='va'>s5</span> <span class='op'>&lt;-</span> <span class='fu'><a href='solve.html'>solve</a></span><span class='op'>(</span><span class='va'>p5</span><span class='op'>)</span>

<span class='co'># print first six rows of the attribute table</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>s5</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Simple feature collection with 6 features and 9 fields
#&gt; geometry type:  POLYGON
#&gt; dimension:      XY
#&gt; bbox:           xmin: 0 ymin: 0.9 xmax: 0.6 ymax: 1
#&gt; CRS:            NA
#&gt;     cost_1   cost_2   cost_3 locked_1 locked_2 locked_3 solution_1_zone_1
#&gt; 1 215.8638 183.3344 205.4113    FALSE    FALSE    FALSE                 0
#&gt; 2 212.7823 189.4978 209.6404    FALSE    FALSE    FALSE                 0
#&gt; 3 207.4962 193.6007 215.4212     TRUE    FALSE    FALSE                 0
#&gt; 4 208.9322 197.5897 218.5241    FALSE    FALSE    FALSE                 0
#&gt; 5 214.0419 199.8033 220.7100    FALSE    FALSE    FALSE                 0
#&gt; 6 213.7636 203.1867 224.6809    FALSE    FALSE    FALSE                 0
#&gt;   solution_1_zone_2 solution_1_zone_3                       geometry
#&gt; 1                 0                 0 POLYGON ((0 1, 0.1 1, 0.1 0...
#&gt; 2                 0                 0 POLYGON ((0.1 1, 0.2 1, 0.2...
#&gt; 3                 0                 0 POLYGON ((0.2 1, 0.3 1, 0.3...
#&gt; 4                 0                 0 POLYGON ((0.3 1, 0.4 1, 0.4...
#&gt; 5                 0                 0 POLYGON ((0.4 1, 0.5 1, 0.5...
#&gt; 6                 0                 0 POLYGON ((0.5 1, 0.6 1, 0.6...</div><div class='input'>
<span class='co'># calculate feature representation in the solution</span>
<span class='va'>r5</span> <span class='op'>&lt;-</span> <span class='fu'>eval_feature_representation_summary</span><span class='op'>(</span>
  <span class='va'>p5</span>, <span class='va'>s5</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"solution_1_zone_1"</span>, <span class='st'>"solution_1_zone_2"</span>, <span class='st'>"solution_1_zone_3"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>
<span class='fu'><a href='print.html'>print</a></span><span class='op'>(</span><span class='va'>r5</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 20 x 5</span><span>
#&gt;    summary feature   total_amount absolute_held relative_held
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>            </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>         </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> overall feature_1        225.          40.4          0.179
#&gt; </span><span style='color: #555555;'> 2</span><span> overall feature_2         83.9         13.4          0.159
#&gt; </span><span style='color: #555555;'> 3</span><span> overall feature_3        195.          33.9          0.174
#&gt; </span><span style='color: #555555;'> 4</span><span> overall feature_4        114.          18.3          0.161
#&gt; </span><span style='color: #555555;'> 5</span><span> overall feature_5        154.          27.8          0.181
#&gt; </span><span style='color: #555555;'> 6</span><span> zone_1  feature_1         75.1         14.3          0.190
#&gt; </span><span style='color: #555555;'> 7</span><span> zone_1  feature_2         28.0          4.88         0.174
#&gt; </span><span style='color: #555555;'> 8</span><span> zone_1  feature_3         65.0         12.2          0.188
#&gt; </span><span style='color: #555555;'> 9</span><span> zone_1  feature_4         38.0          6.25         0.164
#&gt; </span><span style='color: #555555;'>10</span><span> zone_1  feature_5         51.2          9.55         0.187
#&gt; </span><span style='color: #555555;'>11</span><span> zone_2  feature_1         75.1         15.0          0.200
#&gt; </span><span style='color: #555555;'>12</span><span> zone_2  feature_2         28.0          4.61         0.165
#&gt; </span><span style='color: #555555;'>13</span><span> zone_2  feature_3         65.0         13.2          0.204
#&gt; </span><span style='color: #555555;'>14</span><span> zone_2  feature_4         38.0          5.65         0.149
#&gt; </span><span style='color: #555555;'>15</span><span> zone_2  feature_5         51.2         10.3          0.200
#&gt; </span><span style='color: #555555;'>16</span><span> zone_3  feature_1         75.1         11.1          0.147
#&gt; </span><span style='color: #555555;'>17</span><span> zone_3  feature_2         28.0          3.89         0.139
#&gt; </span><span style='color: #555555;'>18</span><span> zone_3  feature_3         65.0          8.45         0.130
#&gt; </span><span style='color: #555555;'>19</span><span> zone_3  feature_4         38.0          6.42         0.169
#&gt; </span><span style='color: #555555;'>20</span><span> zone_3  feature_5         51.2          7.96         0.155</div><div class='input'>
<span class='co'># create new column representing the zone id that each planning unit</span>
<span class='co'># was allocated to in the solution</span>
<span class='va'>s5</span><span class='op'>$</span><span class='va'>solution</span> <span class='op'>&lt;-</span> <span class='fu'><a href='category_vector.html'>category_vector</a></span><span class='op'>(</span>
  <span class='va'>s5</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"solution_1_zone_1"</span>, <span class='st'>"solution_1_zone_2"</span>, <span class='st'>"solution_1_zone_3"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>
<span class='va'>s5</span><span class='op'>$</span><span class='va'>solution</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>s5</span><span class='op'>$</span><span class='va'>solution</span><span class='op'>)</span>

<span class='co'># plot solution</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>s5</span><span class='op'>[</span>, <span class='st'>"solution"</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='img'><img src='eval_feature_representation_summary-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://jeffrey-hanson.com'>Jeffrey O Hanson</a>, <a href='http://www.richard-schuster.com'>Richard Schuster</a>, Nina Morrell, <a href='http://strimas.com'>Matthew Strimas-Mackey</a>, Matthew E Watts, <a href='https://arcese.forestry.ubc.ca'>Peter Arcese</a>, <a href='https://josephrbennett.wordpress.com'>Joseph Bennett</a>, <a href='http://www.possinghamlab.org'>Hugh P Possingham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '486efa122ea6783724263412c5f28ab3',
    indexName: 'prioritizr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


